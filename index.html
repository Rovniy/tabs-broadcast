<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TabsBroadcast demo</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: Helvetica, Tahoma, sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            gap: 40px;
        }

        .container {
            text-align: center;
            max-width: 600px;
            padding: 20px;
            background: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        h1 {
            font: 700 42px/54px Helvetica, Tahoma, sans-serif;
            color: #333;
        }

        pre {
            font-size: 18px;
            color: #666;
            text-align: left;
            white-space: pre-line;
            border: 1px solid #cccccc;
            padding: 10px;
            border-radius: 5px;
        }

        .tab-status {
            font: 700 26px/26px Helvetica, Tahoma, sans-serif;
            margin: 40px 0 20px;
        }

        .tab-status.primary {
            color: #28a745;
        }

        .tab-status.slave {
            color: #dc3545;
        }

        .actions-container {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: flex-start;
            gap: 20px;
        }
        .btns-area {
            display: flex;
            align-items: flex-start;
            justify-content: flex-start;
            flex-direction: column;
            gap: 10px;
            flex-wrap: wrap;
        }
        .event-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .event-button[disabled] {
            pointer-events: none;
            opacity: .5;
        }
        .event-button:hover {
            background-color: #0056b3;
        }

        .events-container {
            display: flex;
            align-items: flex-start;
            justify-content: flex-start;
            flex-direction: column;
            gap: 10px;
            flex-wrap: wrap;
        }
        .event-counter {
            margin: 0;
            padding: 0;
            color: #007bff;
            font: 400 32px/32px Helvetica, Tahoma, sans-serif;
        }

        .footer {
            margin-top: auto;
            width: 100%;
            display: flex;
            padding: 0 0 20px 0;
            justify-content: center;
        }

        .footer a {
            color: #000;
            text-decoration: none;
            margin: 0 20px;
            transition: color 0.3s ease;
            opacity: .8;
            display: flex;
            align-items: center;
            font-weight: 600;
        }

        .footer a:hover {
            opacity: 1;
        }

        .footer .icon {
            width: 100%;
            height: 100%;
            max-height: 30px;
            margin-right: 10px;
        }

        .footer .npm {
            max-height: 40px;
        }

        .footer .xploit {
            width: 110px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>TabsBroadcast %version% demo</h1>

    <pre>
            Open several tabs of this page.

            Refreshing or close the page will transfer the priority to another tab
        </pre>

    <div id="tabStatus" class="tab-status">Loading...</div>

    <div class="actions-container">
        <div class="btns-area">
            <button id="sendEvent" class="event-button">Simple event(+1)</button>
            <button id="sendEventPayload" class="event-button">Event with payload (+5)</button>
            <button id="sendWildcardEvent" class="event-button">Wildcard event to all layers (+3)</button>
            <button id="sendEventLayer1" class="event-button">Event to layer 1 only (+10)</button>
            <button id="sendEventLayer2" class="event-button">Event to layer 2 only (+10)</button>
        </div>

        <div class="events-container">
            <p class="event-counter">
                Counter: <span id="counterData">0</span>
            </p>
            <p class="event-counter">
                Layer 1: <span id="counterDataLayer1">0</span>
            </p>
            <p class="event-counter">
                Layer 2: <span id="counterDataLayer2">0</span>
            </p>
        </div>
    </div>


</div>

<div class="footer">
    <a href="https://github.com/Rovniy/tabs-broadcast" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon">
            <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path>
        </svg>
        Github.com
    </a>
    <a href="https://www.npmjs.com/package/tabs-broadcast" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="icon npm">
            <path d="M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z"
                  fill="rgb(234, 32, 57)"></path>
        </svg>
        npmjs.com
    </a>
    <a href="https://ravy.pro" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="286" height="40" class="icon xploit" viewBox="0 0 286 40"
             fill="none">
            <script xmlns=""/>
            <path d="M11.8904 0.0204655C9.06889 0.208815 6.39649 1.32714 4.2676 3.21456C3.81435 3.61676 3.14135 4.32307 2.77443 4.7861C1.34209 6.58719 0.431665 8.68846 0.109878 10.9369C0.0117727 11.6236 0 11.8178 0 12.7321C0 13.5973 0.00784847 13.7366 0.0804467 14.3409C0.521923 17.9666 2.56841 21.2824 5.62931 23.3346C6.94196 24.2155 8.31152 24.812 9.83216 25.169C11.4117 25.5398 13.0127 25.6007 14.5196 25.3456C15.5066 25.1788 16.3169 24.9532 17.8278 24.4274C18.6872 24.1292 19.1502 23.9977 19.8134 23.8663C21.5224 23.5288 23.359 23.5465 25.1406 23.9173C26.4925 24.1979 27.8542 24.7099 28.9765 25.3574C29.0511 25.4005 29.1492 25.4574 29.1923 25.4829C29.312 25.5497 29.9929 26.0048 30.04 26.046C30.0616 26.0676 30.1243 26.1147 30.1773 26.152C30.2323 26.1893 30.2852 26.2285 30.297 26.2403C30.3088 26.2501 30.348 26.2815 30.3833 26.3089C30.4187 26.3364 30.4579 26.3678 30.4697 26.3776C30.4815 26.3894 30.5227 26.4227 30.5599 26.4541C30.9112 26.7425 31.5037 27.3409 31.749 27.6529C31.7823 27.6961 31.849 27.7804 31.8961 27.8393C32.2062 28.2277 32.6319 28.9635 32.8124 29.4187C33.0185 29.9425 33.1637 30.5056 33.199 30.9196C33.2049 30.9902 33.2186 31.1001 33.2304 31.1648C33.2402 31.2296 33.2677 31.4081 33.2892 31.5611C33.3108 31.7142 33.3403 31.8986 33.3579 31.9732C33.3736 32.0457 33.3991 32.1733 33.4148 32.2537C33.4423 32.3989 33.4894 32.5873 33.5482 32.8031C33.5659 32.8619 33.6032 32.9953 33.6306 33.0974C33.6601 33.1994 33.6915 33.3014 33.7013 33.323C33.7386 33.4074 33.8367 33.7174 33.8367 33.7487C33.8367 33.7684 33.8426 33.7841 33.8524 33.7841C33.8602 33.7841 33.8916 33.8527 33.923 33.9371C34.078 34.357 34.3998 35.0279 34.6392 35.4302C34.7039 35.542 34.7589 35.6342 34.7589 35.6362C34.7589 35.644 35.0905 36.1404 35.1336 36.1953C35.1552 36.2228 35.2396 36.3346 35.322 36.4425C35.4044 36.5504 35.5378 36.7172 35.6202 36.8153C35.785 37.0154 36.4306 37.6648 36.6229 37.8257C36.6915 37.8846 36.77 37.9532 36.7936 37.9768C36.8191 38.0023 36.8446 38.0219 36.8485 38.0219C36.8544 38.0219 36.9486 38.0906 37.0604 38.173C37.5588 38.5477 37.8884 38.7537 38.4182 39.0225C38.8832 39.256 39.1422 39.3639 39.6249 39.5248C41.173 40.0408 42.7878 40.135 44.6675 39.8152C44.9579 39.7661 45.5328 39.6288 45.8154 39.5385C46.1921 39.4188 46.5335 39.2992 46.6395 39.2482C46.6728 39.2325 46.8141 39.1697 46.9534 39.1089C47.2497 38.9794 47.4655 38.8675 47.8069 38.6694C48.0542 38.5261 48.5525 38.2024 48.5918 38.1593C48.5977 38.1534 48.633 38.1259 48.6703 38.1004C48.9508 37.9081 49.6749 37.2234 49.9672 36.8742C50.2184 36.574 50.5284 36.1561 50.654 35.9462C50.909 35.5224 51.1641 35.0338 51.2818 34.7454C51.4133 34.4158 51.5703 33.9822 51.6056 33.8429C51.6213 33.7841 51.6546 33.6644 51.6821 33.5781C51.7881 33.2269 51.9254 32.4617 51.9568 32.0575C51.9646 31.9771 51.9784 31.8397 51.9882 31.7534C52 31.6632 52.0039 31.2767 51.998 30.8411C51.9921 30.229 51.9823 30.0308 51.949 29.7914C51.9274 29.6286 51.9038 29.4344 51.8979 29.3598C51.892 29.2833 51.8783 29.195 51.8685 29.1636C51.8607 29.1303 51.841 29.0341 51.8293 28.9478C51.8155 28.8615 51.8018 28.7732 51.7979 28.7516C51.792 28.73 51.7763 28.628 51.7586 28.526C51.7429 28.4239 51.7213 28.3082 51.7115 28.2709C51.6998 28.2336 51.6841 28.1395 51.6743 28.0649C51.6644 27.9884 51.6409 27.8393 51.6252 27.7314C51.6095 27.6235 51.586 27.4292 51.5742 27.2997C51.5624 27.1702 51.5487 27.0329 51.5428 26.9956C51.5251 26.8642 51.5192 25.3162 51.5349 25.1808C51.5448 25.1043 51.5663 24.8983 51.584 24.7197C51.6017 24.5412 51.6252 24.3627 51.637 24.3215C51.6468 24.2783 51.6684 24.1724 51.6841 24.086C51.7547 23.6799 51.7861 23.5347 51.8744 23.2385C51.8921 23.1835 51.9274 23.0599 51.9568 22.9638C51.9843 22.8657 52.0157 22.7695 52.0235 22.748C52.0686 22.6459 52.1236 22.4949 52.1236 22.4811C52.1236 22.4713 52.1393 22.4262 52.1609 22.3791C52.1805 22.334 52.2295 22.2163 52.2707 22.1201C52.3924 21.8298 52.6651 21.2961 52.8437 21.0018C52.9987 20.7487 53.2518 20.3681 53.2793 20.3445C53.2852 20.3387 53.344 20.2641 53.4068 20.1778C53.5088 20.0404 53.6815 19.8305 53.8797 19.599C53.9876 19.4734 54.6429 18.824 54.7803 18.7063C54.8568 18.6416 54.9333 18.5729 54.9529 18.5533C54.9726 18.5356 54.9981 18.5199 55.0079 18.5199C55.0197 18.5199 55.0275 18.5121 55.0275 18.5042C55.0275 18.4748 55.6613 17.9961 56.0125 17.7587C56.3696 17.5193 56.4265 17.484 56.7365 17.3015C57.1741 17.0425 57.1839 17.0367 57.6744 16.7914C58.5299 16.3657 59.3971 16.0184 60.4233 15.6947C60.8275 15.5691 60.8727 15.5534 61.063 15.471C61.1297 15.4435 61.1885 15.42 61.1944 15.42C61.2003 15.42 61.3318 15.3611 61.4868 15.2905C62.1755 14.9707 62.6837 14.6372 63.2468 14.1349C63.4489 13.9544 63.8511 13.509 63.9237 13.3815C63.9335 13.3638 63.9571 13.3364 63.9728 13.3168C64.0179 13.2697 64.2553 12.8851 64.3456 12.7125C64.532 12.3534 64.6988 11.8904 64.7812 11.496C64.8695 11.0742 64.8852 10.8937 64.8852 10.3679C64.8852 9.83818 64.8695 9.68122 64.7773 9.24959C64.479 7.88013 63.6706 6.6951 62.4953 5.90442C61.2317 5.05489 59.5934 4.7861 58.1375 5.19027C57.439 5.3845 56.7071 5.75924 56.1459 6.21245C55.2924 6.89914 54.6488 7.85855 54.3525 8.87877C54.1975 9.42028 54.1661 9.66749 54.1446 10.5347C54.1269 11.2645 54.0975 11.6687 54.0249 12.1435C53.8581 13.2501 53.4892 14.3429 52.9575 15.3121C52.7672 15.6594 52.465 16.1381 52.2727 16.3931C52.051 16.6874 51.9372 16.8287 51.6939 17.1073C51.5389 17.2878 50.9659 17.8587 50.7795 18.0235C50.654 18.1334 50.2988 18.4277 50.1222 18.567C49.9711 18.6847 49.5375 18.9869 49.3276 19.1203C49.1058 19.2615 48.7095 19.5009 48.6997 19.5009C48.6958 19.5009 48.6447 19.5284 48.5878 19.5617C48.4819 19.6245 47.805 19.9678 47.6107 20.0561C46.8475 20.4054 45.9586 20.7193 45.0403 20.9606C43.5884 21.3432 42.054 21.5315 39.6838 21.6218C39.0127 21.6473 37.3665 21.6355 36.8387 21.6022C34.6765 21.4629 32.991 21.1431 31.4821 20.5859C29.5573 19.8737 28.1151 18.8338 27.0948 17.4212C26.414 16.4755 25.9176 15.2925 25.6762 14.027C25.5722 13.4835 25.535 13.1618 25.4663 12.2612C25.4349 11.8355 25.3368 11.139 25.2406 10.6642C24.4205 6.57934 21.8089 3.08507 18.2379 1.29575C17.1096 0.730701 15.9245 0.344193 14.7355 0.157806C14.5962 0.134262 14.4549 0.112677 14.4215 0.106791C13.8408 0.0145787 12.6144 -0.0285838 11.8904 0.0204655ZM11.91 2.21591C12.8303 2.26889 13.6701 2.45724 14.4902 2.79273C16.7977 3.74037 18.5322 5.74158 19.1404 8.15677C19.319 8.86504 19.3661 9.28098 19.3661 10.1227C19.3641 10.8466 19.3386 11.1213 19.217 11.7119C18.8167 13.6542 17.6806 15.3886 16.0501 16.5422C14.9415 17.329 13.6583 17.8077 12.273 17.9549C12.1239 17.9706 11.8021 17.9804 11.4489 17.9784C10.8407 17.9764 10.5091 17.949 10.0029 17.8509C8.41943 17.5507 6.98905 16.7796 5.84514 15.6142C4.74636 14.492 4.02037 13.099 3.72998 11.5549C3.5789 10.7485 3.55928 9.77343 3.67897 8.95529C3.85163 7.78203 4.2676 6.69902 4.92098 5.71804C5.68817 4.56832 6.71043 3.66385 7.94853 3.0419C8.908 2.56122 9.90083 2.29243 10.9977 2.21788C11.3489 2.19433 11.5333 2.19433 11.91 2.21591ZM44.3634 23.7093C45.0992 23.8035 45.7055 23.9977 46.3157 24.3332C46.5669 24.4706 46.5492 24.4588 46.8219 24.6491C47.0711 24.8198 47.079 24.8257 47.3144 25.0356C48.4682 26.0637 49.1196 27.5214 49.1215 29.0753C49.1215 29.8817 48.9116 30.7764 48.5545 31.4748C48.4642 31.6514 48.2504 32.0202 48.2052 32.0771C48.1935 32.0928 48.1268 32.1811 48.06 32.2733C47.8344 32.5853 47.4753 32.9659 47.1987 33.1935C47.128 33.2504 47.0535 33.3112 47.0319 33.3289C46.9201 33.4211 46.6748 33.5859 46.4884 33.6977C45.5956 34.2275 44.6185 34.4766 43.5609 34.4452C42.4994 34.4119 41.6008 34.1235 40.6746 33.5113C40.6315 33.4839 40.5844 33.4505 40.5667 33.4368C40.551 33.4231 40.4804 33.3681 40.4098 33.3132C40.0723 33.0483 39.7544 32.7383 39.5464 32.4695C39.5091 32.4205 39.4621 32.3636 39.4424 32.342C39.3463 32.24 39.0206 31.7122 38.8773 31.4297C38.7184 31.1118 38.5379 30.5821 38.4516 30.174C38.3142 29.5285 38.3064 28.7398 38.43 28.0747C38.7439 26.3835 39.8505 24.9395 41.4045 24.1979C41.9559 23.933 42.4405 23.7957 43.1371 23.7015C43.3588 23.6721 44.1064 23.6779 44.3634 23.7093Z"
                  fill="url(#paint0_linear_1306_8)"/>
            <path d="M100.976 20.0316L116.501 9.78898C116.733 9.61985 116.849 9.48244 116.849 9.37673C116.849 9.20761 116.68 9.12305 116.342 9.12305H112.192C112.002 9.12305 111.822 9.1759 111.653 9.2816L99.3605 17.4313L94.2913 9.2816C94.2279 9.1759 94.1118 9.12305 93.9428 9.12305H79.654C79.126 9.12305 78.8619 9.2816 78.8619 9.59871C78.8619 9.64099 81.0058 13.0975 85.2935 19.9682L69.8324 30.2108C69.6212 30.3588 69.5156 30.4962 69.5156 30.623C69.5156 30.7921 69.6846 30.8767 70.0225 30.8767H74.0779C74.268 30.8767 74.4475 30.8238 74.6165 30.7181L86.941 22.5685L92.0419 30.7181C92.1052 30.8238 92.232 30.8767 92.422 30.8767H106.616C107.123 30.8767 107.376 30.7181 107.376 30.401C107.376 30.3165 105.243 26.86 100.976 20.0316Z"
                  fill="black"/>
            <path d="M142.527 20.9195C146.076 20.9195 149.001 19.7673 151.303 17.463C152.824 15.9832 153.584 14.4188 153.584 12.7698C153.584 11.5014 153.035 10.5395 151.937 9.88411C151.071 9.37673 149.941 9.12305 148.547 9.12305H121.332C120.951 9.12305 120.698 9.26046 120.571 9.53529C114.34 23.4881 111.225 30.5067 111.225 30.5913C111.225 30.7816 111.373 30.8767 111.668 30.8767H123.042C123.423 30.8767 123.676 30.7393 123.803 30.4645L131.628 12.8649H138.123C139.707 12.8649 140.499 13.3406 140.499 14.2919C140.499 14.4399 140.447 14.6724 140.341 14.9896C140.066 15.6449 139.486 16.184 138.598 16.6068C137.817 16.9662 137.025 17.1459 136.222 17.1459H132.135C131.713 17.1459 131.459 17.2833 131.375 17.5581L130.076 20.5072C130.055 20.5284 130.044 20.5707 130.044 20.6341C130.044 20.8244 130.182 20.9195 130.456 20.9195H142.527Z"
                  fill="black"/>
            <path d="M178.89 30.8767C179.27 30.8767 179.524 30.7393 179.651 30.4645L180.95 27.5471C180.971 27.5259 180.981 27.4836 180.981 27.4202C180.981 27.23 180.844 27.1348 180.569 27.1348H167.675C166.09 27.1348 165.298 26.5957 165.298 25.5176C165.298 24.8411 165.647 23.7206 166.344 22.1562L171.952 9.53529C171.973 9.51415 171.983 9.47187 171.983 9.40844C171.983 9.21818 171.846 9.12305 171.572 9.12305H159.5C159.12 9.12305 158.867 9.26046 158.74 9.53529L153.829 20.6024C153.069 22.2936 152.689 23.8475 152.689 25.2639C152.689 27.1031 153.291 28.509 154.495 29.4814C155.614 30.4116 157.114 30.8767 158.994 30.8767H178.89Z"
                  fill="black"/>
            <path d="M207.214 30.8767C210.277 30.8767 213.234 29.7668 216.085 27.5471C218.747 25.4541 220.722 22.9384 222.01 19.9999C222.855 18.1184 223.277 16.3954 223.277 14.831C223.277 12.9495 222.675 11.5119 221.471 10.5183C220.352 9.58814 218.821 9.12305 216.877 9.12305H200.593C197.488 9.12305 194.52 10.2224 191.69 12.421C189.092 14.4505 187.128 16.9768 185.797 19.9999C184.973 21.8814 184.561 23.5726 184.561 25.0736C184.561 26.9551 185.163 28.4138 186.367 29.4497C187.466 30.401 188.986 30.8767 190.929 30.8767H207.214ZM210.541 14.5139C210.541 15.1481 210.203 16.258 209.527 17.8435L207.975 21.3C207.573 22.1879 207.183 22.9596 206.802 23.6149C206.443 24.2491 206.084 24.7776 205.725 25.2005C204.627 26.49 203.338 27.1348 201.86 27.1348H199.072C197.741 27.1348 197.076 26.5535 197.076 25.3907C197.076 24.5028 197.498 23.1392 198.343 21.3L199.896 17.8435C200.255 17.0402 200.593 16.3531 200.909 15.7823C201.247 15.2115 201.564 14.757 201.86 14.4188C202.768 13.3829 203.951 12.8649 205.408 12.8649H208.196C209.759 12.8649 210.541 13.4146 210.541 14.5139Z"
                  fill="black"/>
            <path d="M238.619 30.8767C238.978 30.8767 239.221 30.7393 239.348 30.4645C245.579 16.5117 248.694 9.49301 248.694 9.40844C248.694 9.21818 248.567 9.12305 248.314 9.12305H236.845C236.486 9.12305 236.243 9.26046 236.116 9.53529C229.885 23.4881 226.77 30.5067 226.77 30.5913C226.77 30.7816 226.907 30.8767 227.182 30.8767H238.619Z"
                  fill="black"/>
            <path d="M274.343 12.8649H283.5C283.88 12.8649 284.133 12.7381 284.26 12.4844C285.147 10.4972 285.591 9.47187 285.591 9.40844C285.591 9.21818 285.453 9.12305 285.179 9.12305H254.605C254.225 9.12305 253.972 9.26046 253.845 9.53529C252.958 11.5436 252.514 12.5584 252.514 12.5795C252.514 12.7698 252.662 12.8649 252.958 12.8649H261.797C256.559 24.6614 253.94 30.5702 253.94 30.5913C253.94 30.7816 254.067 30.8767 254.32 30.8767H265.789C266.148 30.8767 266.391 30.7393 266.518 30.4645L274.343 12.8649Z"
                  fill="black"/>
            <defs>
                <linearGradient id="paint0_linear_1306_8" x1="1.93413e-06" y1="1.41762e-05" x2="64.8796" y2="39.999"
                                gradientUnits="userSpaceOnUse">
                    <stop stop-color="#D34600"/>
                    <stop stop-color="#D34600"/>
                    <stop offset="1" stop-color="#751E02"/>
                </linearGradient>
            </defs>
        </svg>
    </a>
</div>

<script type="module">
	import TabsBroadcast from './index.es.js'

	const primaryName = 'Primary tab (Can send event)'
	const slaveName = 'Slave tab (Doesn\'t send events by default)'
	const primaryClassName = 'primary'
	const slaveClassname = 'slave'
	const appLayer1 = 'APP_LAYER_0'
	const appLayer2 = 'APP_LAYER_1'

	const tabStatusText = document.querySelector('#tabStatus')
	const sendEventBtn = document.querySelector('#sendEvent')
	const sendEventPayloadBtn = document.querySelector('#sendEventPayload')
	const sendEventLayer1Btn = document.querySelector('#sendEventLayer1')
	const sendEventLayer2Btn = document.querySelector('#sendEventLayer2')
	const sendWildcardEvent = document.querySelector('#sendWildcardEvent')
	const counterData = document.querySelector('#counterData')
	const counterDataLayer1 = document.querySelector('#counterDataLayer1')
	const counterDataLayer2 = document.querySelector('#counterDataLayer2')

	sendEventBtn.disabled = true
	sendEventPayloadBtn.disabled = true
	sendEventLayer1Btn.disabled = true
	sendEventLayer2Btn.disabled = true
	sendWildcardEvent.disabled = true

	tabStatusText.classList.add(slaveClassname)

	const tabsBroadcast = new TabsBroadcast({
		onBecomePrimary: () => {
			tabStatusText.innerHTML = primaryName
			tabStatusText.classList.remove(slaveClassname)
			tabStatusText.classList.add(primaryClassName)

			sendEventBtn.disabled = false
			sendEventPayloadBtn.disabled = false
			sendEventLayer1Btn.disabled = false
			sendEventLayer2Btn.disabled = false
			sendWildcardEvent.disabled = false
		}
	})

	tabStatusText.innerHTML = tabsBroadcast.primary ? primaryName : slaveName

	sendEventBtn.addEventListener('click', () => {
		tabsBroadcast.emit('INCREASE_BY_EVENT')
	})
	sendEventPayloadBtn.addEventListener('click', () => {
		tabsBroadcast.emit('INCREASE_BY_EVENT_PAYLOAD', {increase: 5})
	})
	sendEventLayer1Btn.addEventListener('click', () => {
		tabsBroadcast.emit('INCREASE_BY_LAYER', {increase: 10}, appLayer1)
	})
	sendEventLayer2Btn.addEventListener('click', () => {
		tabsBroadcast.emit('INCREASE_BY_LAYER', {increase: 10}, appLayer2)
	})
	sendWildcardEvent.addEventListener('click', () => {
		tabsBroadcast.emit('INCREASE_BY_LAYER', {increase: 3}, [ appLayer1, appLayer2 ])
	})

	const callback = data => {
		console.log('TabsBroadcast : Incoming event', data)

		const increase = data?.payload?.increase || 1
		const count = parseInt(counterData.innerHTML)

		counterData.innerHTML = count + increase
	}
	const callbackLayer1 = data => {
		console.log('TabsBroadcast : Incoming event in layer 1', data)

		const increase = data?.payload?.increase || 1
		const count = parseInt(counterDataLayer1.innerHTML)

		counterDataLayer1.innerHTML = count + increase
	}
	const callbackLayer2 = data => {
		console.log('TabsBroadcast : Incoming event in layer 2', data)

		const increase = data?.payload?.increase || 1
		const count = parseInt(counterDataLayer2.innerHTML)

		counterDataLayer2.innerHTML = count + increase
	}

	tabsBroadcast.onList([
		['INCREASE_BY_EVENT', callback],
		['INCREASE_BY_EVENT_PAYLOAD', callback],
		['INCREASE_BY_LAYER', callbackLayer1, appLayer1],
		['INCREASE_BY_LAYER', callbackLayer2, appLayer2],
	])
</script>
</body>
</html>
