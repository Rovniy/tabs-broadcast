"use strict";function _instanceof(e,a){return null!=a&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](e):e instanceof a}function _classCallCheck(e,a){if(!_instanceof(e,a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var TabsBroadcast=function(){function e(){_classCallCheck(this,e),this.instance=null,this.callbacks=[],this._createInstance()}return _createClass(e,[{key:"_createInstance",value:function(){var e=this;this.instance=new BroadcastChannel("broadcast"),this.instance.onmessage=function(a){e.callbacks.forEach(function(t,n){a.data.type===t.type&&(t.callback(a.data.payload),t.to_remove&&e.callbacks.splice(n,1))})}}},{key:"$on",value:function(e,a){this.callbacks.push({type:e,callback:a})}},{key:"$once",value:function(e,a){this.callbacks.push({type:e,callback:a,to_remove:!0})}},{key:"$off",value:function(e){var a=this;this.callbacks.forEach(function(t,n){t.type===e&&a.callbacks.splice(n,1)})}},{key:"$emit",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.instance.postMessage({type:e,payload:a})}}]),e}(),_default=new TabsBroadcast;exports.default=_default;
